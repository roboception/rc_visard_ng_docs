

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="de" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="de" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>TagDetect &mdash; rc_visard NG 24.01.1-2-g3fc53ce3
 Dokumentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/sphinx_tabs/semantic-ui-2.4.1/segment.min.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/sphinx_tabs/semantic-ui-2.4.1/menu.min.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/sphinx_tabs/tabs.css" type="text/css" />
  
    <link rel="stylesheet" href="_static/contentui.css" type="text/css" />
  

  

  
    <link rel="stylesheet" href="_static/css/default.css" type="text/css" />
  

  

  

  

  
        <link rel="index" title="Stichwortverzeichnis"
              href="genindex.html"/>
        <link rel="search" title="Suche" href="search.html"/>
    <link rel="top" title="rc_visard NG 24.01.1-2-g3fc53ce3
 Dokumentation" href="index.html"/>
        <link rel="up" title="Detektionsmodule" href="detection_modules.html"/>
        <link rel="next" title="ItemPick und BoxPick" href="itempick.html"/>
        <link rel="prev" title="LoadCarrier" href="loadcarrier.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>


<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> rc_visard NG
          

          
          </a>

          
            
            
              <div class="version">
                24.01
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Suche" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="revisions.html">Einführung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="general.html">Überblick</a></li>
<li class="toctree-l2"><a class="reference internal" href="warranty.html">Garantie</a></li>
<li class="toctree-l2"><a class="reference internal" href="standards.html">Schnittstellen, Zulassungen und Normen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="standards.html#interfaces">Schnittstellen</a></li>
<li class="toctree-l3"><a class="reference internal" href="standards.html#approvals">Zulassungen</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="disposal.html">Informationen zur Entsorgung</a></li>
<li class="toctree-l2"><a class="reference internal" href="glossary.html">Glossar</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="safety.html">Sicherheit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="safety.html#general-warnings">Allgemeine Sicherheitshinweise</a></li>
<li class="toctree-l2"><a class="reference internal" href="safety.html#intended-use">Bestimmungsgemäße Verwendung</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="hardware_spec.html">Hardware-Spezifikation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="hardware_spec.html#scope-of-delivery">Lieferumfang</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware_spec.html#technical-specification">Technische Spezifikation</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware_spec.html#environmental-and-operating-conditions">Umwelt- und Betriebsbedingungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware_spec.html#power-supply-specifications">Spezifikationen für die Stromversorgung</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware_spec.html#wiring">Verkabelung</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware_spec.html#mechanical-interface">Mechanische Schnittstelle</a></li>
<li class="toctree-l2"><a class="reference internal" href="hardware_spec.html#coordinate-frames">Koordinatensysteme</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#software-license">Softwarelizenz</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#power-up">Einschalten</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#discovery-of-rc-xxx-devices">Aufspüren von <em>rc_visard NG</em>-Geräten</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installation.html#resetting-configuration">Zurücksetzen der Konfiguration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#network-configuration">Netzwerkkonfiguration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installation.html#host-name">Host-Name</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#automatic-configuration-factory-default">Automatische Konfiguration (werksseitige Voreinstellung)</a></li>
<li class="toctree-l3"><a class="reference internal" href="installation.html#manual-configuration">Manuelle Konfiguration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Messprinzipien</a><ul>
<li class="toctree-l2"><a class="reference internal" href="concept_stereo.html">Stereovision</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Softwaremodule</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="camera_modules.html">3D-Kamera-Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="stereo_camera.html">Kamera</a><ul>
<li class="toctree-l4"><a class="reference internal" href="stereo_camera.html#rectification">Rektifizierung</a></li>
<li class="toctree-l4"><a class="reference internal" href="stereo_camera.html#viewing-and-downloading-images">Anzeigen und Herunterladen von Bildern</a></li>
<li class="toctree-l4"><a class="reference internal" href="stereo_camera.html#parameters">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="stereo_camera.html#status-values">Statuswerte</a></li>
<li class="toctree-l4"><a class="reference internal" href="stereo_camera.html#services">Services</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="stereo_matching.html">Stereo-Matching</a><ul>
<li class="toctree-l4"><a class="reference internal" href="stereo_matching.html#computing-disparity-images">Berechnung von Disparitätsbildern</a></li>
<li class="toctree-l4"><a class="reference internal" href="stereo_matching.html#computing-depth-images-and-point-clouds">Berechnung von Tiefenbildern und Punktwolken</a></li>
<li class="toctree-l4"><a class="reference internal" href="stereo_matching.html#confidence-and-error-images">Konfidenz- und Fehlerbilder</a></li>
<li class="toctree-l4"><a class="reference internal" href="stereo_matching.html#viewing-and-downloading-images-and-point-clouds">Anzeigen und Herunterladen von Tiefenbildern und Punktwolken</a></li>
<li class="toctree-l4"><a class="reference internal" href="stereo_matching.html#parameters">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="stereo_matching.html#status-values">Statuswerte</a></li>
<li class="toctree-l4"><a class="reference internal" href="stereo_matching.html#services">Services</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="detection_modules.html">Detektionsmodule</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="loadcarrier.html">LoadCarrier</a><ul>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier.html#introduction">Einleitung</a></li>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier.html#detection-of-load-carriers">Erkennung von Load Carriern</a></li>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier.html#detection-of-filling-level">Füllstandserkennung</a></li>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier.html#interaction-with-other-modules">Wechselwirkung mit anderen Modulen</a></li>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier.html#parameters">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier.html#status-values">Statuswerte</a></li>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier.html#services">Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier.html#return-codes">Rückgabecodes</a></li>
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">TagDetect</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Einführung</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tag-reading">Tagerkennung</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pose-estimation">Posenschätzung</a></li>
<li class="toctree-l4"><a class="reference internal" href="#tag-re-identification">Tag-Wiedererkennung</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hand-eye-calibration">Hand-Auge-Kalibrierung</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parameters">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#status-values">Statuswerte</a></li>
<li class="toctree-l4"><a class="reference internal" href="#services">Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="#return-codes">Rückgabecodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="itempick.html">ItemPick und BoxPick</a><ul>
<li class="toctree-l4"><a class="reference internal" href="itempick.html#introduction">Einführung</a></li>
<li class="toctree-l4"><a class="reference internal" href="itempick.html#detection-of-items-boxpick">Erkennung von Rechtecken (BoxPick)</a></li>
<li class="toctree-l4"><a class="reference internal" href="itempick.html#computation-of-grasps">Berechnung der Greifpunkte</a></li>
<li class="toctree-l4"><a class="reference internal" href="itempick.html#interaction-with-other-modules">Wechselwirkung mit anderen Modulen</a></li>
<li class="toctree-l4"><a class="reference internal" href="itempick.html#parameters">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="itempick.html#status-values">Statuswerte</a></li>
<li class="toctree-l4"><a class="reference internal" href="itempick.html#services">Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="itempick.html#return-codes">Rückgabecodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="itempick.html#boxpick-template-api">BoxPick Template API“</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="silhouettematch.html">SilhouetteMatch</a><ul>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#introduction">Einführung</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#base-plane-calibration">Kalibrierung der Basisebene</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#setting-a-region-of-interest">Setzen einer Region of Interest</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#setting-of-grasp-points">Setzen von Greifpunkten</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#setting-the-preferred-orientation-of-the-tcp">Setzen der bevorzugten TCP-Orientierung</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#setting-the-sorting-strategies">Setzen der Sortierstrategie</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#detection-of-objects">Objekterkennung</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#interaction-with-other-modules">Wechselwirkung mit anderen Modulen</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#parameters">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#status-values">Statuswerte</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#services">Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#internal-services">Interne Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#return-codes">Rückgabecodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="silhouettematch.html#template-api">Template API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration_modules.html">Konfigurationsmodule</a><ul>
<li class="toctree-l3"><a class="reference internal" href="handeye_calibration.html">Hand-Auge-Kalibrierung</a><ul>
<li class="toctree-l4"><a class="reference internal" href="handeye_calibration.html#calibration-interfaces">Kalibrierschnittstellen</a></li>
<li class="toctree-l4"><a class="reference internal" href="handeye_calibration.html#camera-mounting">Kameramontage</a></li>
<li class="toctree-l4"><a class="reference internal" href="handeye_calibration.html#calibration-routine">Kalibrierroutine</a></li>
<li class="toctree-l4"><a class="reference internal" href="handeye_calibration.html#parameters">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="handeye_calibration.html#services">Services</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="collisioncheck.html">CollisionCheck</a><ul>
<li class="toctree-l4"><a class="reference internal" href="collisioncheck.html#introduction">Einleitung</a></li>
<li class="toctree-l4"><a class="reference internal" href="collisioncheck.html#collision-checking">Kollisionsprüfung</a></li>
<li class="toctree-l4"><a class="reference internal" href="collisioncheck.html#parameters">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="collisioncheck.html#status-values">Statuswerte</a></li>
<li class="toctree-l4"><a class="reference internal" href="collisioncheck.html#services">Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="collisioncheck.html#return-codes">Rückgabecodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="camera_calibration.html">Kamerakalibrierung</a><ul>
<li class="toctree-l4"><a class="reference internal" href="camera_calibration.html#self-calibration">Selbstkalibrierung</a></li>
<li class="toctree-l4"><a class="reference internal" href="camera_calibration.html#calibration-process">Kalibriervorgang</a></li>
<li class="toctree-l4"><a class="reference internal" href="camera_calibration.html#parameters">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="camera_calibration.html#services">Services</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="iocontrol.html">IOControl und Projektor-Kontrolle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="iocontrol.html#parameters">Parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="iocontrol.html#services">Services</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="database_modules.html">Datenbankmodule</a><ul>
<li class="toctree-l3"><a class="reference internal" href="loadcarrier_db.html">LoadCarrierDB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier_db.html#introduction">Einleitung</a></li>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier_db.html#load-carrier-definition">Load Carrier Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier_db.html#load-carrier-compartments">Load Carrier Abteile</a></li>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier_db.html#interaction-with-other-modules">Wechselwirkung mit anderen Modulen</a></li>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier_db.html#services">Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="loadcarrier_db.html#return-codes">Rückgabecodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="roi.html">RoiDB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="roi.html#introduction">Einleitung</a></li>
<li class="toctree-l4"><a class="reference internal" href="roi.html#region-of-interest">Region of Interest</a></li>
<li class="toctree-l4"><a class="reference internal" href="roi.html#interaction-with-other-modules">Wechselwirkung mit anderen Modulen</a></li>
<li class="toctree-l4"><a class="reference internal" href="roi.html#services">Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="roi.html#return-codes">Rückgabecodes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gripper_db.html">GripperDB</a><ul>
<li class="toctree-l4"><a class="reference internal" href="gripper_db.html#introduction">Einleitung</a></li>
<li class="toctree-l4"><a class="reference internal" href="gripper_db.html#setting-a-gripper">Erstellen eines Greifers</a></li>
<li class="toctree-l4"><a class="reference internal" href="gripper_db.html#services">Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="gripper_db.html#return-codes">Rückgabecodes</a></li>
<li class="toctree-l4"><a class="reference internal" href="gripper_db.html#cad-element-api">CAD-Greiferelement API</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">Schnittstellen</a><ul>
<li class="toctree-l2"><a class="reference internal" href="webgui.html">Web GUI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="webgui.html#accessing-the-web-gui">Zugriff auf die Web GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="webgui.html#exploring-the-web-gui">Kennenlernen der Web GUI</a></li>
<li class="toctree-l3"><a class="reference internal" href="webgui.html#web-gui-access-control">Web GUI Zugriffskontrolle</a></li>
<li class="toctree-l3"><a class="reference internal" href="webgui.html#downloading-camera-images">Herunterladen von Kamerabildern</a></li>
<li class="toctree-l3"><a class="reference internal" href="webgui.html#downloading-depth-images-and-point-clouds">Herunterladen von Tiefenbildern und Punktwolken</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="gigevision.html">GigE&nbsp;Vision&nbsp;2.0/GenICam-Schnittstelle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="gigevision.html#gige-vision-ports">GigE Vision Ports</a></li>
<li class="toctree-l3"><a class="reference internal" href="gigevision.html#important-genicam-parameters">Wichtige Parameter der GenICam-Schnittstelle</a></li>
<li class="toctree-l3"><a class="reference internal" href="gigevision.html#important-standard-genicam-features">Wichtige Standardparameter der GenICam-Schnittstelle</a><ul>
<li class="toctree-l4"><a class="reference internal" href="gigevision.html#category-imageformatcontrol">Kategorie: ImageFormatControl</a></li>
<li class="toctree-l4"><a class="reference internal" href="gigevision.html#category-acquisitioncontrol">Kategorie: AcquisitionControl</a></li>
<li class="toctree-l4"><a class="reference internal" href="gigevision.html#category-analogcontrol">Kategorie: AnalogControl</a></li>
<li class="toctree-l4"><a class="reference internal" href="gigevision.html#category-digitaliocontrol">Kategorie: DigitalIOControl</a></li>
<li class="toctree-l4"><a class="reference internal" href="gigevision.html#category-transportlayercontrol-ptpcontrol">Kategorie: TransportLayerControl / PtpControl</a></li>
<li class="toctree-l4"><a class="reference internal" href="gigevision.html#category-scan3dcontrol">Kategorie: Scan3dControl</a></li>
<li class="toctree-l4"><a class="reference internal" href="gigevision.html#category-chunkdatacontrol">Kategorie: ChunkDataControl</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gigevision.html#custom-genicam-features-of-the-rc-xxx">Besondere Parameter der GenICam-Schnittstelle des <em>rc_visard NG</em></a><ul>
<li class="toctree-l4"><a class="reference internal" href="gigevision.html#category-devicecontrol">Kategorie: DeviceControl</a></li>
<li class="toctree-l4"><a class="reference internal" href="gigevision.html#id1">Kategorie: AcquisitionControl</a></li>
<li class="toctree-l4"><a class="reference internal" href="gigevision.html#id2">Kategorie: Scan3dControl</a></li>
<li class="toctree-l4"><a class="reference internal" href="gigevision.html#category-depthcontrol">Kategorie: DepthControl</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gigevision.html#chunk-data">Chunk-Daten</a></li>
<li class="toctree-l3"><a class="reference internal" href="gigevision.html#provided-image-streams">Verfügbare Bild-Streams</a></li>
<li class="toctree-l3"><a class="reference internal" href="gigevision.html#image-stream-conversions">Umwandlung von Bild-Streams</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="rest_api.html">REST-API-Schnittstelle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="rest_api_general.html">Allgemeine Struktur der Programmierschnittstelle (API)</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest_api_general.html#available-resources-and-requests">Verfügbare Ressourcen und Anfragen</a><ul>
<li class="toctree-l4"><a class="reference internal" href="rest_api_nodes.html">Module, Parameter und Services</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest_api_userspace.html">UserSpace</a></li>
<li class="toctree-l4"><a class="reference internal" href="rest_api_syslogs.html">System und Logs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="rest_api_datamodel.html">Datentyp-Definitionen</a></li>
<li class="toctree-l3"><a class="reference internal" href="rest_api_swagger_ui.html">Swagger UI</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="eki.html">KUKA Ethernet KRL Schnittstelle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="eki.html#ethernet-connection-configuration">Konfiguration der Ethernet-Verbindung</a></li>
<li class="toctree-l3"><a class="reference internal" href="eki.html#generic-xml-structure">Allgemeine XML-Struktur</a><ul>
<li class="toctree-l4"><a class="reference internal" href="eki.html#return-code">Rückgabecode</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="eki.html#services">Services</a><ul>
<li class="toctree-l4"><a class="reference internal" href="eki.html#request-xml-structure">Anfrage-XML-Struktur</a></li>
<li class="toctree-l4"><a class="reference internal" href="eki.html#response-xml-structure">Antwort-XML-Struktur</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="eki.html#parameters">Parameter</a></li>
<li class="toctree-l3"><a class="reference internal" href="eki.html#eki-xml-configuration-files">EKI-XML-Konfigurationsdateien</a></li>
<li class="toctree-l3"><a class="reference internal" href="eki.html#example-applications">Beispielanwendungen</a></li>
<li class="toctree-l3"><a class="reference internal" href="eki.html#troubleshooting">Fehlerbehebung</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="grpc.html">gRPC Bilddatenschnittstelle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="grpc.html#grpc-service-definition">gRPC Servicedefinition</a></li>
<li class="toctree-l3"><a class="reference internal" href="grpc.html#image-stream-conversions">Umwandlung von Bild-Streams</a></li>
<li class="toctree-l3"><a class="reference internal" href="grpc.html#example-client">Beispielclient</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="opc_ua.html">OPC UA Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="time_sync.html">Zeitsynchronisierung</a><ul>
<li class="toctree-l3"><a class="reference internal" href="time_sync.html#ntp">NTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="time_sync.html#ptp">PTP</a></li>
<li class="toctree-l3"><a class="reference internal" href="time_sync.html#setting-time-manually">Manuelles Setzen der Zeit</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="userspace.html">UserSpace</a><ul>
<li class="toctree-l2"><a class="reference internal" href="userspace.html#configuration">Konfiguration</a></li>
<li class="toctree-l2"><a class="reference internal" href="userspace.html#network-access-to-userspace-applications">Netzwerkzugriff auf die UserSpace Anwendungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="userspace.html#interfaces">Schnittstellen</a></li>
<li class="toctree-l2"><a class="reference internal" href="userspace.html#restrictions">Einschränkungen</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="maintenance.html">Wartung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#lens-cleaning">Reinigung der Kameralinsen</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#camera-calibration">Kamerakalibrierung</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#creating-and-restoring-backups-of-settings">Backup der Einstellungen</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#updating-the-firmware">Aktualisierung der Firmware</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#restoring-the-previous-firmware-version">Wiederherstellung der vorherigen Firmware-Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#rebooting-the-rcxxx">Neustart des <em>rc_visard NG</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#updating-the-software-license">Aktualisierung der Softwarelizenz</a></li>
<li class="toctree-l2"><a class="reference internal" href="maintenance.html#downloading-log-files">Download der Logdateien</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="accessories.html">Zubehör</a><ul>
<li class="toctree-l2"><a class="reference internal" href="accessories.html#connectivity-kit">Anschlussset</a></li>
<li class="toctree-l2"><a class="reference internal" href="accessories.html#wiring">Verkabelung</a><ul>
<li class="toctree-l3"><a class="reference internal" href="accessories.html#ethernet-connections">Ethernet-Anschluss</a></li>
<li class="toctree-l3"><a class="reference internal" href="accessories.html#power-connections">Stromanschluss</a></li>
<li class="toctree-l3"><a class="reference internal" href="accessories.html#power-supplies">Netzteile</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="accessories.html#spare-parts">Ersatzteile</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Fehlerbehebung</a><ul>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#led-colors">LED-Farben</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#hardware-issues">Probleme mit der Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#connectivity-issues">Probleme mit der Konnektivität</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#camera-image-issues">Probleme mit den Kamerabildern</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#depth-disparity-error-and-confidence-image-issues">Probleme mit Tiefen-/Disparitäts-, Fehler- oder Konfidenzbildern</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#gige-vision-genicam-issues">Probleme mit GigE&nbsp;Vision/GenICam</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contact.html">Kontakt</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contact.html#support">Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="contact.html#downloads">Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="contact.html#address">Adresse</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Anhang</a><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix.html#pose-formats">Formate für Posendaten</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pose_format_rt.html">Rotationsmatrix und Translationsvektor</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pose_format_rt.html#conversion-from-rotation-matrix-to-quaternion">Umrechnung von Rotationsmatrizen in Quaternionen</a></li>
<li class="toctree-l4"><a class="reference internal" href="pose_format_rt.html#conversion-from-quaternion-to-rotation-matrix">Umrechnung von Quaternionen in Rotationsmatrizen</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pose_format_abb.html">ABB Posenformat</a></li>
<li class="toctree-l3"><a class="reference internal" href="pose_format_fanuc.html">FANUC XYZ-WPR Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pose_format_fanuc.html#conversion-from-fanuc-wpr-to-quaternion">Umrechnung von FANUC-WPR in Quaternionen</a></li>
<li class="toctree-l4"><a class="reference internal" href="pose_format_fanuc.html#conversion-from-quaternion-to-fanuc-wpr">Umrechnung von Quaternionen in FANUC-WPR</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pose_format_franka_emika.html">Franka Emika Posenformat</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pose_format_franka_emika.html#conversion-from-transformation-matrix-to-quaternion">Umrechnung von Transformation in Quaternion</a></li>
<li class="toctree-l4"><a class="reference internal" href="pose_format_franka_emika.html#conversion-from-rotation-xyz-to-quaternion">Umrechnung von Rotation-XYZ in Quaternion</a></li>
<li class="toctree-l4"><a class="reference internal" href="pose_format_franka_emika.html#conversion-from-quaternion-and-translation-to-transformation">Umrechnung von Quaternion und Translation in Transformation</a></li>
<li class="toctree-l4"><a class="reference internal" href="pose_format_franka_emika.html#conversion-from-quaternion-to-rotation-xyz">Umrechnung von Quaternion in Rotation-XYZ</a></li>
<li class="toctree-l4"><a class="reference internal" href="pose_format_franka_emika.html#pose-representation-in-racecom-messages-and-state-machines">Posenrepräsentation in RaceCom Messages und Statemachines</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pose_format_fruitcore_horst.html">Fruitcore HORST Posenformat</a></li>
<li class="toctree-l3"><a class="reference internal" href="pose_format_kawasaki.html">Kawasaki XYZ-OAT Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pose_format_kawasaki.html#conversion-from-kawasaki-oat-to-quaternion">Umrechnung von Kawasaki-OAT in Quaternionen</a></li>
<li class="toctree-l4"><a class="reference internal" href="pose_format_kawasaki.html#conversion-from-quaternion-to-kawasaki-oat">Umrechnung von Quaternionen in Kawasaki-OAT</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pose_format_kuka.html">KUKA XYZ-ABC Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pose_format_kuka.html#conversion-from-kuka-abc-to-quaternion">Umrechnung von KUKA-ABC in Quaternionen</a></li>
<li class="toctree-l4"><a class="reference internal" href="pose_format_kuka.html#conversion-from-quaternion-to-kuka-abc">Umrechnung von Quaternionen in KUKA-ABC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pose_format_mitsubishi.html">Mitsubishi XYZ-ABC Format</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pose_format_mitsubishi.html#conversion-from-mitsubishi-abc-to-quaternion">Umrechnung von Mitsubishi-ABC in Quaternionen</a></li>
<li class="toctree-l4"><a class="reference internal" href="pose_format_mitsubishi.html#conversion-from-quaternion-to-mitsubishi-abc">Umrechnung von Quaternionen in Mitsubishi-ABC</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pose_format_ur.html">Universal Robots Posenformat</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pose_format_ur.html#conversion-from-angle-axis-format-to-quaternion">Umrechnung vom Angle-Axis Format in Quaternionen</a></li>
<li class="toctree-l4"><a class="reference internal" href="pose_format_ur.html#conversion-from-quaternion-to-angle-axis-format">Umrechnung von Quaternionen ins Angle-Axis Format</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pose_format_yaskawa.html">Yaskawa Posenformat</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pose_format_yaskawa.html#conversion-from-yaskawa-rx-ry-rz-to-quaternion">Umrechnung von Yaskawa Rx, Ry, Rz in Quaternionen</a></li>
<li class="toctree-l4"><a class="reference internal" href="pose_format_yaskawa.html#conversion-from-quaternion-to-yaskawa-rx-ry-rz">Umrechnung von Quaternionen in Yaskawa Rx, Ry, Rz</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">rc_visard NG</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">rc_visard NG</a> &gt;</li>
        
          <li><a href="modules.html">Softwaremodule</a> &gt;</li>
        
          <li><a href="detection_modules.html">Detektionsmodule</a> &gt;</li>
        
      <li>TagDetect</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tagdetect">
<span id="sect-tag-detection"></span><h1>TagDetect<a class="headerlink" href="#tagdetect" title="Link zu dieser Überschrift">¶</a></h1>
<div class="section" id="introduction">
<span id="index-0"></span><h2>Einführung<a class="headerlink" href="#introduction" title="Link zu dieser Überschrift">¶</a></h2>
<p>Die TagDetect-Module sind optionale Module, die intern auf dem <em>rc_visard NG</em> laufen, und benötigen gesonderte <a class="reference internal" href="maintenance.html#sect-updating-license"><span class="std std-ref">Lizenzen</span></a>, die erworben werden müssen. Diese Lizenzen sind auf jedem <em>rc_visard NG</em>, der nach dem 01.07.2020 gekauft wurde, vorhanden.</p>
<p>Die TagDetect-Module laufen intern auf dem <em>rc_visard NG</em> und ermöglichen es, 2D-Matrixcodes und Marker (Tags) zu erkennen. Derzeit gibt es TagDetect-Module für <cite>QR-Codes</cite> und <cite>AprilTags</cite>. Neben der Erkennung berechnen die Module die Position und Orientierung jedes Tags im 3D-Kamerakoordinatensystem, um diesen beispielsweise mit einem Roboter zu manipulieren oder die Pose der Kamera in Bezug auf den Tag zu berechnen.</p>
<p>Die Tagerkennung besteht aus drei Schritten:</p>
<ol class="arabic simple">
<li>Tagerkennung auf dem 2D-Bildpaar (siehe <a class="reference internal" href="#sect-tag-reading"><span class="std std-ref">Tagerkennung</span></a>).</li>
<li>Schätzung der Pose jedes Tags (siehe <a class="reference internal" href="#sect-tag-pose-estimation"><span class="std std-ref">Posenschätzung</span></a>).</li>
<li>Wiedererkennung von bisher gesehenen Tags (siehe <a class="reference internal" href="#sect-tag-re-identification"><span class="std std-ref">Tag-Wiedererkennung</span></a>).</li>
</ol>
<p>Im Folgenden werden die zwei unterstützten Tagtypen näher beschrieben, gefolgt von einem Vergleich.</p>
<div class="section" id="qr-code">
<h3>QR-Code<a class="headerlink" href="#qr-code" title="Link zu dieser Überschrift">¶</a></h3>
<div class="figure align-center" id="id1">
<span id="index-1"></span><a class="reference internal image-reference" href="_images/example_qr_code.png"><img alt="_images/example_qr_code.png" src="_images/example_qr_code.png" style="width: 200px;" /></a>
<p class="caption"><span class="caption-number">Abb. 21 </span><span class="caption-text">Beispiel eines QR-Codes</span></p>
</div>
<p>QR-Codes sind zweidimensionale Matrixcodes, welche beliebige, benutzerspezifizierte Daten enthalten können. Viele Alltagsgeräte, wie beispielsweise Smartphones, unterstützen die Erkennung von QR-Codes. Zusätzlich stehen Online- und Offlinetools zur Verfügung, um QR-Codes zu generieren.</p>
<p>Die „Pixel“ eines QR-Codes werden <cite>Module</cite> genannt. Das Aussehen und die Auflösung von QR-Codes ändert sich mit der Menge der in ihnen gespeicherten Daten. Während die speziellen Muster in den drei Ecken immer 7 Module breit sind, erhöht sich die Anzahl der Module dazwischen, je mehr Daten gespeichert sind. Der am niedrigsten aufgelöste QR-Code besitzt eine Größe von 21x21 Modulen und kann bis zu 152 Bits speichern.</p>
<p>Auch wenn viele QR-Code-Generatoren speziell designte QR-Codes erzeugen können (bspw. mit einem Logo, mit runden Ecken oder mit Punkten als Module), wird eine zuverlässige Erkennung solcher Tags mit dem TagDetect-Modul nicht garantiert. Gleiches gilt für QR-Codes, welche Zeichen außerhalb des ASCII-Zeichensatzes beinhalten.</p>
</div>
<div class="section" id="apriltag">
<span id="sect-apriltag"></span><h3>AprilTag<a class="headerlink" href="#apriltag" title="Link zu dieser Überschrift">¶</a></h3>
<div class="figure align-center" id="id2">
<span id="fig-april-tag-example"></span><span id="index-2"></span><a class="reference internal image-reference" href="_images/apriltag_dim_vis.png"><img alt="_images/apriltag_dim_vis.png" src="_images/apriltag_dim_vis.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Abb. 22 </span><span class="caption-text">Ein 16h5 Tag (links), ein 36h11 Tag (Mitte) und ein 41h12 Tag (rechts). AprilTags bestehen aus einem obligatorischen weißen (a) und schwarzen (b) Rahmen und einer variablen Menge an Datenmodulen (c).</span></p>
</div>
<p>AprilTags sind ähnlich zu QR-Codes. Sie wurden allerdings speziell zur robusten Identifikation auf weite Entfernungen entwickelt. Wie bei QR-Codes werden die „Pixel“ <cite>Module</cite> genannt. <a class="reference internal" href="#fig-april-tag-example"><span class="std std-numref">Abb. 22</span></a> veranschaulicht den Aufbau von AprilTags. Sie haben einen obligatorischen weißen und schwarzen Rahmen, welcher jeweils ein Modul breit ist. Tags der Familien 16h5, 25h9, 36h10 und 36h11 sind von diesem Rahmen umschlossen und enthalten innen eine variable Menge an Datenmodulen. Bei Tags der Familie 41h12 ist der Rahmen nach innen verschoben und die Datenmodule befinden sich sowohl innerhalb als auch außerhalb des Rahmens. Anders als QR-Codes speichern AprilTags keine benutzerdefinierten Informationen, sondern werden durch eine vordefinierte <em>Familie</em> und <em>ID</em> identifiziert. Die Tags in <a class="reference internal" href="#fig-april-tag-example"><span class="std std-numref">Abb. 22</span></a> sind zum Beispiel aus Familie 16h5, 36h11 bzw. 41h12 und besitzen ID 0, 11 bzw. 0. Alle unterstützten Familien werden in <a class="reference internal" href="#tab-tag-families"><span class="std std-numref">Tab. 16</span></a> aufgelistet.</p>
<span id="tab-tag-families"></span><table border="1" class="docutils" id="apriltag-familien">
<caption><span class="caption-number">Tab. 16 </span><span class="caption-text">AprilTag-Familien</span><a class="headerlink" href="#apriltag-familien" title="Link zu dieser Tabelle">¶</a></caption>
<colgroup>
<col width="18%" />
<col width="50%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Familie</th>
<th class="head">Anzahl IDs</th>
<th class="head">Empfohlen</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>16h5</td>
<td>30</td>
<td>-</td>
</tr>
<tr class="row-odd"><td>25h9</td>
<td>35</td>
<td>o</td>
</tr>
<tr class="row-even"><td>36h10</td>
<td>2320</td>
<td>o</td>
</tr>
<tr class="row-odd"><td>36h11</td>
<td>587</td>
<td>+</td>
</tr>
<tr class="row-even"><td>41h12</td>
<td>2115</td>
<td>+</td>
</tr>
</tbody>
</table>
<p>Die Zahl vor dem „h“ jeder Familie bezeichnet die Anzahl der Datenmodule, welche im Tag enthalten sind: Während ein 16h5 Tag 16 (4x4) Datenmodule enthält ((c) in <a class="reference internal" href="#fig-april-tag-example"><span class="std std-numref">Abb. 22</span></a>) und ein 36h11 Tag 36 (6x6), beinhaltet ein 41h12 Tag 41 Datenmodule (3x3 innen und 4x8 außen). Die Zahl hinter dem „h“ bezeichnet den Hamming-Abstand zwischen zwei Tags der Familie. Je höher, desto höher ist die Robustheit, aber desto weniger IDs stehen bei gleicher Anzahl an Datenmodulen zur Verfügung (siehe <a class="reference internal" href="#tab-tag-families"><span class="std std-numref">Tab. 16</span></a>).</p>
<p>Der Vorteil von Familien mit weniger Modulen (bspw. 16h5 im Vergleich zu 36h11) ist die niedrigere Auflösung der Tags. Jedes Modul ist somit größer, weshalb der Tag auf eine größere Distanz erkannt werden kann. Dies hat allerdings auch Nachteile: Zum einen stehen bei niedrigerer Zahl an Datenmodulen auch weniger IDs zur Verfügung. Wichtiger aber ist, dass die Robustheit der Tagerkennung signifikant reduziert wird, da es zu einer höheren Falsch-Positiv-Rate kommt. Dies bedeutet, dass Tags verwechselt werden oder nicht existierende Tags in zufälliger Bildtextur oder im Bildrauschen erkannt werden. Die 41h12 Familie hat ihren Rahmen nach innen verschoben, was im Vergleich zur 36h11 Familie mehr Datenmodule bei einer geringen Gesamtmodulanzahl ermöglicht.</p>
<p>Aus diesen Gründen empfehlen wir die Verwendung der 42h12 und 36h11-Familien und raten ausdrücklich von der Familie 16h5 ab. Letztgenannte Familie sollten nur benutzt werden, wenn eine große Erkennungsdistanz für die Anwendung unbedingt erforderlich ist. Jedoch ist die maximale Erkennungsdistanz nur ca. 25% größer, wenn anstelle der 36h11-Familie die 16h5-Familie verwendet wird.</p>
<p>Vorgenerierte AprilTags können von der AprilTag-Projektwebseite (<a class="reference external" href="https://april.eecs.umich.edu/software/apriltag.html">https://april.eecs.umich.edu/software/apriltag.html</a>) heruntergeladen werden. Jede Familie besteht aus mehreren PNGs, welche jeweils einen AprilTag enthalten. Jedes Pixel im PNG entspricht dabei einem Modul des AprilTags. Beim Drucken der Tags der Familien 36h11, 36h10, 25h9 und 16h5 sollte darauf geachtet werden, den weißen Rand um den AprilTag mit einzuschließen – dieser ist in den PNGs enthalten (siehe (a) in <a class="reference internal" href="#fig-april-tag-example"><span class="std std-numref">Abb. 22</span></a>). Die Tags müssen außerdem ohne Interpolation auf die Druckgröße skaliert werden, sodass die scharfen Kanten erhalten bleiben.</p>
</div>
<div class="section" id="comparison">
<h3>Vergleich<a class="headerlink" href="#comparison" title="Link zu dieser Überschrift">¶</a></h3>
<p>Sowohl QR-Codes als auch AprilTags haben ihre Vor- und Nachteile. Während QR-Codes die Speicherung von benutzerdefinierten Daten erlauben, sind die Tags bei AprilTags vordefiniert und in ihrer Anzahl limitiert. Andererseits haben AprilTags eine niedrigere Auflösung und können daher auf eine größere Distanz erkannt werden. Zusätzlich hilft die durchgängige weiß-zu-schwarz-Kante in jedem AprilTag bei einer präziseren Posenschätzung.</p>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Falls die Speicherung von benutzerdefinierten Daten nicht benötigt wird, sollten AprilTags QR-Codes vorgezogen werden.</p>
</div>
</div>
</div>
<div class="section" id="tag-reading">
<span id="sect-tag-reading"></span><h2>Tagerkennung<a class="headerlink" href="#tag-reading" title="Link zu dieser Überschrift">¶</a></h2>
<p>Der erste Schritt der Tagerkennung ist die Detektion der Tags auf dem Stereo-Bildpaar. Dieser Schritt benötigt die meiste Zeit und seine Präzision ist entscheidend für die Präzision der finalen Tagpose. Um die Dauer dieses Schritts zu kontrollieren, kann der Parameter <code class="docutils literal notranslate"><span class="pre">quality</span></code> vom Benutzer konfiguriert werden. Er hat ein Herunterskalieren des Stereo-Bildpaares vor der Tagerkennung zur Folge. <em>Hoch</em> (<code class="docutils literal notranslate"><span class="pre">High</span></code>) ergibt die höchste maximale Erkennungsdistanz und Präzision, aber auch die längste Dauer der Erkennung. <em>Niedrig</em> (<code class="docutils literal notranslate"><span class="pre">Low</span></code>) führt zur kleinsten maximalen Erkennungsdistanz und Präzision, aber benötigt auch nur weniger als die halbe Zeit. <em>Mittel</em> (<code class="docutils literal notranslate"><span class="pre">Medium</span></code>) liegt dazwischen. Es sollte beachtet werden, dass dieser <code class="docutils literal notranslate"><span class="pre">quality</span></code>-Parameter keine Verbindung zum <code class="docutils literal notranslate"><span class="pre">quality</span></code>-Parameter des <a class="reference internal" href="stereo_matching.html#sect-stereo-matching"><span class="std std-ref">Stereo-Matching</span></a> hat.</p>
<div class="figure align-center" id="id3">
<span id="fig-tag-sizes"></span><a class="reference internal image-reference" href="_images/tag_sizes_vis.png"><img alt="_images/tag_sizes_vis.png" src="_images/tag_sizes_vis.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Abb. 23 </span><span class="caption-text">Visualisierung der Modulgröße <span class="math notranslate nohighlight">\(s\)</span>, der Größe eines Tags in Modulen <span class="math notranslate nohighlight">\(r\)</span> und der Größe eines Tags in Metern <span class="math notranslate nohighlight">\(t\)</span> für AprilTags (links und Mitte) und QR-Codes (rechts)</span></p>
</div>
<p>Die maximale Erkennungsdistanz <span class="math notranslate nohighlight">\(z\)</span> für Qualität <em>Hoch</em> (<code class="docutils literal notranslate"><span class="pre">High</span></code>) kann mit folgenden Formeln angenähert werden:</p>
<div class="math notranslate nohighlight">
\[z = \frac{f s}{p},\]</div>
<div class="math notranslate nohighlight">
\[s = \frac{t}{r},\]</div>
<p>wobei <span class="math notranslate nohighlight">\(f\)</span> die <a class="reference internal" href="stereo_camera.html#sect-stereo-camera-rectification"><span class="std std-ref">Brennweite</span></a> in Pixeln und <span class="math notranslate nohighlight">\(s\)</span> die Größe jedes Moduls in Metern bezeichnet. <span class="math notranslate nohighlight">\(s\)</span> kann leicht mit letztgenannter Formel berechnet werden, in welcher <span class="math notranslate nohighlight">\(t\)</span> der Taggröße in Metern und <span class="math notranslate nohighlight">\(r\)</span> der Breite des Tags in Modulen entspricht (bei AprilTags ohne den weißen Rahmen). <a class="reference internal" href="#fig-tag-sizes"><span class="std std-numref">Abb. 23</span></a> veranschaulicht diese Variablen. <span class="math notranslate nohighlight">\(p\)</span> bezeichnet die Zahl der Bildpixel pro Modul, welche für eine Erkennung erforderlich sind. Sie unterscheidet sich zwischen QR-Codes und AprilTags. Auch der Winkel des Tags zur Kamera und die Beleuchtung spielen eine Rolle. Ungefähre Werte für eine robuste Erkennung sind:</p>
<ul class="simple">
<li>AprilTag: <span class="math notranslate nohighlight">\(p=5\)</span> Pixel/Modul</li>
<li>QR-Code: <span class="math notranslate nohighlight">\(p=6\)</span> Pixel/Modul</li>
</ul>
<p>Die folgenden Tabellen enthalten Beispiele für die maximale Erkennungsdistanz in unterschiedlichen Situationen. Die Brennweite des <em>rc_visard</em> wird dafür mit 1075 Pixeln, die Qualität mit <code class="docutils literal notranslate"><span class="pre">High</span></code> angenommen.</p>
<span id="tab-tag-max-dist-april"></span><table border="1" class="docutils" id="beispiele-zur-maximalen-erkennungsdistanz-fur-apriltags-mit-einer-breite-von-t-4-cm">
<caption><span class="caption-number">Tab. 17 </span><span class="caption-text">Beispiele zur maximalen Erkennungsdistanz für AprilTags mit einer Breite von <span class="math notranslate nohighlight">\(t=4\)</span> cm</span><a class="headerlink" href="#beispiele-zur-maximalen-erkennungsdistanz-fur-apriltags-mit-einer-breite-von-t-4-cm" title="Link zu dieser Tabelle">¶</a></caption>
<colgroup>
<col width="37%" />
<col width="33%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">AprilTag-Familie</th>
<th class="head">Tagbreite</th>
<th class="head">Maximale Distanz</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>36h11 (empfohlen)</td>
<td>8 Module</td>
<td>1.1 m</td>
</tr>
<tr class="row-odd"><td>16h5</td>
<td>6 Module</td>
<td>1.4 m</td>
</tr>
<tr class="row-even"><td>41h12 (empfohlen)</td>
<td>5 Module</td>
<td>1.7 m</td>
</tr>
</tbody>
</table>
<span id="tab-tag-max-dist-qr"></span><table border="1" class="docutils" id="beispiele-zur-maximalen-erkennungsdistanz-fur-qr-codes-mit-einer-breite-von-t-8-cm">
<caption><span class="caption-number">Tab. 18 </span><span class="caption-text">Beispiele zur maximalen Erkennungsdistanz für QR-Codes mit einer Breite von <span class="math notranslate nohighlight">\(t=8\)</span> cm</span><a class="headerlink" href="#beispiele-zur-maximalen-erkennungsdistanz-fur-qr-codes-mit-einer-breite-von-t-8-cm" title="Link zu dieser Tabelle">¶</a></caption>
<colgroup>
<col width="52%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Tagbreite</th>
<th class="head">Maximale Distanz</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>29 Module</td>
<td>0.49 m</td>
</tr>
<tr class="row-odd"><td>21 Module</td>
<td>0.70 m</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="pose-estimation">
<span id="sect-tag-pose-estimation"></span><h2>Posenschätzung<a class="headerlink" href="#pose-estimation" title="Link zu dieser Überschrift">¶</a></h2>
<p id="index-3">Für jeden erkannten Tag wird dessen Pose im Kamerakoordinatensystem geschätzt. Eine Bedingung dafür ist, dass der Tag vollständig im linken und rechten Bild zu sehen ist. Das Koordinatensystem ist wie unten gezeigt am Tag ausgerichtet.</p>
<div class="figure align-center" id="id4">
<span id="fig-tag-coord-frames"></span><a class="reference internal image-reference" href="_images/tag_coord_frames.png"><img alt="_images/tag_coord_frames.png" src="_images/tag_coord_frames.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-number">Abb. 24 </span><span class="caption-text">Koordinatensysteme für AprilTags (links und Mitte) bzw. QR-Codes (rechts)</span></p>
</div>
<p>Die z-Achse zeigt „in“ den Tag. Es ist zu beachten, dass, auch wenn AprilTags den weißen Rand in ihrer Definition enthalten, der Ursprung des Koordinatensystems trotzdem am Übergang des weißen zum schwarzen Rand liegt. Da AprilTags keine offensichtliche Orientierung haben, liegt der Ursprung in der oberen linken Ecke des vorgenerierten AprilTags.</p>
<p>Während der Posenschätzung wird auch die Größe des Tags geschätzt unter der Annahme, dass der Tag quadratisch ist. Bei QR-Codes bezieht sich die Größe auf den gesamten Tag, bei AprilTags dagegen nur auf den Bereich innerhalb des Übergangs vom schwarzen zum weißen Rand. Das heißt, dass bei Tags der Familien 16h5, 25h9, 36h10 und 36h11 der äußere weiße Rand ignoriert wird.</p>
<p>Der Benutzer kann auch die ungefähre Größe (<span class="math notranslate nohighlight">\(\pm 10\%\)</span>) eines Tags angeben. Alle Tags, die dieser Einschränkung nicht entsprechen, werden automatisch herausgefiltert. Weiter hilft diese Information in bestimmten Situationen, Mehrdeutigkeiten in der Posenschätzung aufzulösen, die entstehen können, wenn mehrere Tags mit derselben ID im linken und rechten Bild sichtbar und diese Tags parallel zu den Bildzeilen ausgerichtet sind.</p>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Für beste Ergebnisse der Posenschätzung sollte der Tag sorgfältig gedruckt und auf einem steifen und möglichst ebenen Untergrund angebracht werden. Jegliche Verzerrung des Tags oder Unebenheit der Oberfläche verschlechtert die geschätzte Pose.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Wir empfehlen, die ungefähre Größe der Tags anzugeben. Ansonsten, falls mehrere Tags mit derselben ID im linken oder rechten Bild sichtbar sind, kann es zu einer fehlerhaften Posenschätzung kommen, wenn die Tags gleich orientiert sind und sie ungefähr parallel zu den Bildzeilen angeordnet sind. Auch wenn die Größe nicht angegeben sein sollte, versuchen die TagDetect-Module jedoch, solche Situationen zu erkennen und verwerfen betroffene Tags.</p>
</div>
<p>Unten stehende Tabellen enthalten grobe Angaben zur Präzision der geschätzten Posen von AprilTags. Wir unterscheiden zwischen lateraler Präzision (also in x- und y-Richtung) und Präzision in z-Richtung. Es wird angenommen, dass <code class="docutils literal notranslate"><span class="pre">quality</span></code> auf <code class="docutils literal notranslate"><span class="pre">High</span></code> gesetzt ist, und dass die Blickrichtung der Kamera parallel zur Normalen des Tags ist. Die Größe eines Tags hat keinen signifikanten Einfluss auf die Präzision in lateraler und z-Richtung. Im Allgemeinen verbessert ein größerer Tag allerdings die Präzision. Im Bezug auf die Präzision der Rotation, im speziellen um die x- und y-Achsen, übertreffen große Tags kleinere deutlich.</p>
<span id="tab-tag-precision-april"></span><table border="1" class="docutils" id="ungefahre-prazision-der-position-von-apriltag-messungen-mit-qualitat-hoch-in-einem-idealen-szenario">
<caption><span class="caption-number">Tab. 19 </span><span class="caption-text">Ungefähre Präzision der Position von AprilTag Messungen mit Qualität <code class="docutils literal notranslate"><span class="pre">Hoch</span></code> in einem idealen Szenario</span><a class="headerlink" href="#ungefahre-prazision-der-position-von-apriltag-messungen-mit-qualitat-hoch-in-einem-idealen-szenario" title="Link zu dieser Tabelle">¶</a></caption>
<colgroup>
<col width="15%" />
<col width="48%" />
<col width="37%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Distanz</th>
<th class="head"><em>rc_visard NG</em> 160 - lateral</th>
<th class="head"><em>rc_visard NG</em> 160 - z</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0.5 m</td>
<td>0.05 mm</td>
<td>0.3 mm</td>
</tr>
<tr class="row-odd"><td>1.0 m</td>
<td>0.15 mm</td>
<td>1.4 mm</td>
</tr>
<tr class="row-even"><td>2.0 m</td>
<td>0.5 mm</td>
<td>3.7 mm</td>
</tr>
</tbody>
</table>
<span id="tab-tag-precision-rotation-april"></span><table border="1" class="docutils" id="ungefahre-prazision-der-orientierung-von-apriltag-messungen-mit-qualitat-hoch-in-einem-idealen-szenario-fur-verschiedene-tag-groszen">
<caption><span class="caption-number">Tab. 20 </span><span class="caption-text">Ungefähre Präzision der Orientierung von AprilTag Messungen mit Qualität <code class="docutils literal notranslate"><span class="pre">Hoch</span></code> in einem idealen Szenario für verschiedene Tag-Größen</span><a class="headerlink" href="#ungefahre-prazision-der-orientierung-von-apriltag-messungen-mit-qualitat-hoch-in-einem-idealen-szenario-fur-verschiedene-tag-groszen" title="Link zu dieser Tabelle">¶</a></caption>
<colgroup>
<col width="16%" />
<col width="48%" />
<col width="36%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Distanz</th>
<th class="head">60 x 60 mm</th>
<th class="head">120 x 120 mm</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0.5 m</td>
<td>0.2°</td>
<td>–</td>
</tr>
<tr class="row-odd"><td>1.0 m</td>
<td>0.8°</td>
<td>0.3°</td>
</tr>
<tr class="row-even"><td>2.0 m</td>
<td>2.0°</td>
<td>0.8°</td>
</tr>
<tr class="row-odd"><td>3.0 m</td>
<td>–</td>
<td>1.8°</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tag-re-identification">
<span id="sect-tag-re-identification"></span><h2>Tag-Wiedererkennung<a class="headerlink" href="#tag-re-identification" title="Link zu dieser Überschrift">¶</a></h2>
<p id="index-4">Jeder Tag besitzt eine ID: bei AprilTags ist dies die <em>Familie</em> zusammen mit der AprilTag-<em>ID</em>, bei QR-Codes die enthaltenen Daten. Diese IDs sind jedoch nicht einzigartig, da mehrere Tags mit derselben ID in einer Szene vorkommen können.</p>
<p>Zur Unterscheidung dieser Tags weisen die TagDetect-Module jedem Tag einen eindeutigen Identifikator zu. Um den Benutzer dabei zu unterstützen, denselben Tag über mehrere Tagerkennungsläufe hinweg zu identifizieren, versucht das TagDetect-Modul Tags wiederzuerkennen. Falls erfolgreich, wird einem Tag derselbe Identifikator zugewiesen.</p>
<p>Die Tag-Wiedererkennung vergleicht die Positionen der Ecken der Tags im Kamera-Koordinatensystem, um identische Tags wiederzufinden. Tags werden als identisch angenommen, falls sie sich nicht oder nur geringfügig in diesem Koordinatensystem bewegt haben.</p>
<p>Über den <code class="docutils literal notranslate"><span class="pre">max_corner_distance</span></code>-Parameter kann der Benutzer festlegen, wie weit ein Tag sich zwischen zwei Erkennungsläufen bewegen darf, um als identisch zu gelten. Der Parameter definiert die maximale Distanz zwischen den Ecken zweier Tags, was in <a class="reference internal" href="#fig-tag-re-identification"><span class="std std-numref">Abb. 25</span></a> dargestellt ist. Die euklidischen Abstände der vier zusammengehörenden Tagecken in 3D werden berechnet. Falls keiner dieser Abstände den Grenzwert überschreitet, gilt der Tag als wiedererkannt.</p>
<div class="figure align-center" id="id5">
<span id="fig-tag-re-identification"></span><a class="reference internal image-reference" href="_images/tag-re-identification.png"><img alt="_images/tag-re-identification.png" src="_images/tag-re-identification.png" style="width: 70%;" /></a>
<p class="caption"><span class="caption-number">Abb. 25 </span><span class="caption-text">Vereinfachte Darstellung der Tag-Wiedererkennung. Die euklidischen Abstände zwischen zusammengehörigen Tagecken in 3D werden berechnet (rote Pfeile).</span></p>
</div>
<p>Nach einer bestimmten Anzahl von Tagerkennungsläufen werden vorher gesehene Tags verworfen, falls diese in der Zwischenzeit nicht mehr erkannt wurden. Dies kann über den Parameter <code class="docutils literal notranslate"><span class="pre">forget_after_n_detections</span></code> festgelegt werden.</p>
</div>
<div class="section" id="hand-eye-calibration">
<span id="sect-tag-hand-eye-calib"></span><h2>Hand-Auge-Kalibrierung<a class="headerlink" href="#hand-eye-calibration" title="Link zu dieser Überschrift">¶</a></h2>
<p>Falls die Kamera zu einem Roboter kalibriert wurde, kann das TagDetect-Modul automatisch Posen im Roboterkoordinatensystem ausgeben. Für die <a class="reference internal" href="#sect-tag-services"><span class="std std-ref">Services</span></a> kann das Koordinatensystem der berechneten Posen mit dem Argument <code class="docutils literal notranslate"><span class="pre">pose_frame</span></code> spezifiziert werden.</p>
<p>Zwei verschiedene <code class="docutils literal notranslate"><span class="pre">pose_frame</span></code>-Werte können gewählt werden:</p>
<ol class="arabic simple">
<li><strong>Kamera-Koordinatensystem</strong> (<code class="docutils literal notranslate"><span class="pre">camera</span></code>): Alle Posen sind im Kamera-Koordinatensystem angegeben.</li>
<li><strong>Benutzerdefiniertes externes Koordinatensystem</strong> (<code class="docutils literal notranslate"><span class="pre">external</span></code>): Alle Posen sind im sogenannten externen Koordinatensystem angegeben, welches vom Nutzer während der Hand-Auge-Kalibrierung gewählt wurde. In diesem Fall bezieht das Modul alle notwendigen Informationen über die Kameramontage und die kalibrierte Hand-Auge-Transformation automatisch vom Modul <a class="reference internal" href="handeye_calibration.html"><span class="doc">Hand-Auge-Kalibrierung</span></a>. Für den Fall einer robotergeführten Kamera ist vom Nutzer zusätzlich die jeweils aktuelle Roboterpose <code class="docutils literal notranslate"><span class="pre">robot_pose</span></code> anzugeben.</li>
</ol>
<p>Zulässige Werte zur Angabe des Referenzkoordinatensystems sind <code class="docutils literal notranslate"><span class="pre">camera</span></code> und <code class="docutils literal notranslate"><span class="pre">external</span></code>. Andere Werte werden als ungültig zurückgewiesen.</p>
</div>
<div class="section" id="parameters">
<span id="sect-tag-parameters"></span><h2>Parameter<a class="headerlink" href="#parameters" title="Link zu dieser Überschrift">¶</a></h2>
<p>Es stehen zwei getrennte Module für die Tagerkennung zur Verfügung, eines für AprilTag- und eines für QR-Code-Erkennung: <code class="docutils literal notranslate"><span class="pre">rc_april_tag_detect</span></code> bzw. <code class="docutils literal notranslate"><span class="pre">rc_qr_code_detect</span></code>. Abgesehen vom Modulnamen teilen beide die gleiche Schnittstellendefinition.</p>
<p>Neben der <a class="reference internal" href="rest_api.html"><span class="doc">REST-API-Schnittstelle</span></a> stellen die TagDetect-Module außerdem Seiten in der Web GUI  unter <span class="menuselection">Module ‣ AprilTag</span> und <span class="menuselection">Module ‣ QR Code</span> bereit, über welche sie manuell ausprobiert und konfiguriert werden können.</p>
<p>Im Folgenden sind die Parameter am Beispiel von <code class="docutils literal notranslate"><span class="pre">rc_qr_code_detect</span></code> aufgelistet. Sie gleichen denen von <code class="docutils literal notranslate"><span class="pre">rc_april_tag_detect</span></code>.</p>
<p>Dieses Softwaremodul bietet folgende Laufzeitparameter:</p>
<table border="1" class="docutils" id="laufzeitparameter-des-rc-qr-code-detect-moduls">
<caption><span class="caption-number">Tab. 21 </span><span class="caption-text">Laufzeitparameter des <code class="docutils literal notranslate"><span class="pre">rc_qr_code_detect</span></code>-Moduls</span><a class="headerlink" href="#laufzeitparameter-des-rc-qr-code-detect-moduls" title="Link zu dieser Tabelle">¶</a></caption>
<colgroup>
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Typ</th>
<th class="head">Min.</th>
<th class="head">Max.</th>
<th class="head">Default</th>
<th class="head">Beschreibung</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">detect_inverted_tags</span></code></td>
<td>bool</td>
<td>false</td>
<td>true</td>
<td>false</td>
<td>Erkennt Tags, bei denen Schwarz und Weiß vertauscht sind</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">forget_after_n_detections</span></code></td>
<td>int32</td>
<td>1</td>
<td>1000</td>
<td>30</td>
<td>Anzahl an Erkennungsläufen, nach denen ein vorher gesehener Tag während der Tag-Wiedererkennung verworfen wird</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">max_corner_distance</span></code></td>
<td>float64</td>
<td>0.001</td>
<td>0.01</td>
<td>0.005</td>
<td>Maximale Distanz zusammengehöriger Ecken zweier Tags während der Tag-Wiedererkennung</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">quality</span></code></td>
<td>string</td>
<td>-</td>
<td>-</td>
<td>High</td>
<td>Qualität der Tagerkennung: [Low, Medium, High]</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">use_cached_images</span></code></td>
<td>bool</td>
<td>false</td>
<td>true</td>
<td>false</td>
<td>Benutze das zuletzt empfangene Stereo-Bildpaar, anstatt auf ein neues zu warten</td>
</tr>
</tbody>
</table>
<p>Über die REST-API können diese Parameter wie folgt gesetzt werden.</p>
<blockquote>
<div><div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-0-0 docutils container">
<div class="docutils container">
<strong>API Version 2</strong></div>
</div>
<div class="item sphinx-data-tab-0-1 docutils container">
<div class="docutils container">
<strong>API Version 1 (veraltet)</strong></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-0-0 active docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>PUT http://&lt;host&gt;/api/v2/pipelines/0/nodes/&lt;rc_qr_code_detect<span class="p">|</span>rc_april_tag_detect&gt;/parameters/parameters?&lt;parameter-name&gt;<span class="o">=</span>&lt;value&gt;
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-0-1 docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>PUT http://&lt;host&gt;/api/v1/nodes/&lt;rc_qr_code_detect<span class="p">|</span>rc_april_tag_detect&gt;/parameters?&lt;parameter-name&gt;<span class="o">=</span>&lt;value&gt;
</pre></div>
</div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="status-values">
<span id="sect-tag-status-values"></span><h2>Statuswerte<a class="headerlink" href="#status-values" title="Link zu dieser Überschrift">¶</a></h2>
<p>Die TagDetect-Module melden folgende Statuswerte:</p>
<table border="1" class="docutils" id="statuswerte-der-rc-qr-code-detect-und-rc-april-tag-detect-module">
<caption><span class="caption-number">Tab. 22 </span><span class="caption-text">Statuswerte der <code class="docutils literal notranslate"><span class="pre">rc_qr_code_detect</span></code>- und <code class="docutils literal notranslate"><span class="pre">rc_april_tag_detect</span></code>-Module</span><a class="headerlink" href="#statuswerte-der-rc-qr-code-detect-und-rc-april-tag-detect-module" title="Link zu dieser Tabelle">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Beschreibung</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">data_acquisition_time</span></code></td>
<td>Zeit in Sekunden, für die beim letzten Aufruf auf Bilddaten gewartet werden musste</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">last_timestamp_processed</span></code></td>
<td>Zeitstempel des letzten verarbeiteten Bilddatensatzes</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">processing_time</span></code></td>
<td>Berechnungszeit für die letzte Erkennung in Sekunden</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">state</span></code></td>
<td>Der aktuelle Zustand des Moduls</td>
</tr>
</tbody>
</table>
<p>Der Parameter <code class="docutils literal notranslate"><span class="pre">state</span></code> kann folgende Werte annehmen:</p>
<span id="tab-rc-tag-detection-states"></span><table border="1" class="docutils" id="mogliche-zustande-der-tagdetect-module">
<caption><span class="caption-number">Tab. 23 </span><span class="caption-text">Mögliche Zustände der TagDetect-Module</span><a class="headerlink" href="#mogliche-zustande-der-tagdetect-module" title="Link zu dieser Tabelle">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Zustandsname</th>
<th class="head">Beschreibung</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>IDLE</td>
<td>Das Modul ist inaktiv.</td>
</tr>
<tr class="row-odd"><td>RUNNING</td>
<td>Das Modul läuft und ist bereit zur Tagerkennung.</td>
</tr>
<tr class="row-even"><td>FATAL</td>
<td>Ein schwerwiegender Fehler ist aufgetreten.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="services">
<span id="sect-tag-services"></span><h2>Services<a class="headerlink" href="#services" title="Link zu dieser Überschrift">¶</a></h2>
<p id="index-5">Die TagDetect-Module implementieren einen Zustandsautomaten, welcher zum Starten und Stoppen genutzt werden kann. Die eigentliche Tagerkennung kann mit <code class="docutils literal notranslate"><span class="pre">detect</span></code> ausgelöst werden.</p>
<p>Die angebotenen Services von <code class="docutils literal notranslate"><span class="pre">rc_qr_code_detect</span></code> bzw. <code class="docutils literal notranslate"><span class="pre">rc_april_tag_detect</span></code> können mithilfe der <a class="reference internal" href="rest_api.html"><span class="doc">REST-API-Schnittstelle</span></a> oder der <em>rc_visard NG</em> <a class="reference internal" href="webgui.html#sect-web-gui"><span class="std std-ref">Web GUI</span></a> ausprobiert und getestet werden.</p>
<div class="section" id="detect">
<span id="expl-tag-srv-detect"></span><h3><code class="docutils literal notranslate"><span class="pre">detect</span></code><a class="headerlink" href="#detect" title="Link zu dieser Überschrift">¶</a></h3>
<blockquote>
<div><p>löst eine Tagerkennung aus.</p>
<blockquote>
<div><p class="toggle-header"><strong>Details</strong></p>
<div class="toggle-content docutils container">
<p>Abhängig vom <code class="docutils literal notranslate"><span class="pre">use_cached_images</span></code>-Parameter arbeitet das Modul auf dem zuletzt empfangenen Bildpaar (wenn <cite>true</cite>) oder wartet auf ein Bildpaar, das nach dem Auslösen des Services aufgenommen wurde (wenn <cite>false</cite>, dies ist das Standardverhalten). Auch wenn der Parameter auf <cite>true</cite> steht, arbeitet die Tagerkennung niemals mehrmals auf einem Bildpaar.</p>
<p>Es wird empfohlen, <code class="docutils literal notranslate"><span class="pre">detect</span></code> nur im Zustand <code class="docutils literal notranslate"><span class="pre">RUNNING</span></code> aufzurufen. Es ist jedoch auch im Zustand <code class="docutils literal notranslate"><span class="pre">IDLE</span></code> möglich, was zu einem Autostart und -stop des Moduls führt. Dies hat allerdings Nachteile: Erstens dauert der Aufruf deutlich länger, zweitens funktioniert die Tag-Wiedererkennung nicht. Es wird daher ausdrücklich empfohlen, das Modul manuell zu starten, bevor <code class="docutils literal notranslate"><span class="pre">detect</span></code> aufgerufen wird.</p>
<p>Tags können vom <code class="docutils literal notranslate"><span class="pre">detect</span></code>-Ergebnis aus mehreren Gründen ausgeschlossen werden, z.B. falls ein Tag nur in einem der Kamerabilder sichtbar war, oder falls die Posenschätzung fehlschlug. Diese herausgefilterten Tags werden im Log aufgelistet, auf welches wie in <a class="reference internal" href="maintenance.html#sect-downloading-log-files"><span class="std std-ref">Download der Logdateien</span></a> beschrieben zugegriffen werden kann.</p>
<p>Auf den Web GUI-Seiten der TagDetect-Module wird eine Visualisierung der letzten Tagerkennung bereitgestellt. Diese Visualisierung wird allerdings erst angezeigt, sobald die Tagerkennung mindestens einmal ausgeführt wurde. In der Web GUI kann die Tagerkennung außerdem manuell ausprobiert werden, indem die <span class="guilabel">Detektieren</span>-Schaltfläche betätigt wird.</p>
<p>Aufgrund von Änderungen der Systemzeit auf dem <em>rc_visard NG</em> können Zeitsprünge auftreten, sowohl vorwärts als auch rückwärts (siehe <a class="reference internal" href="time_sync.html#sect-time-sync"><span class="std std-ref">Zeitsynchronisierung</span></a>). Während Vorwärtssprünge keinen Einfluss auf die TagDetect-Module haben, invalidieren Rücksprünge die bereits empfangenen Bilder. Deshalb wird, wenn ein Rücksprung erkannt wird, Fehler -102 beim nächsten <code class="docutils literal notranslate"><span class="pre">detect</span></code>-Aufruf zurückgegeben. Dies geschieht auch, um den Benutzer darauf hinzuweisen, dass die Zeitstempel in der <code class="docutils literal notranslate"><span class="pre">detect</span></code>-Antwort ebenso zurückspringen werden.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-1-0 docutils container">
<div class="docutils container">
<strong>API Version 2</strong></div>
</div>
<div class="item sphinx-data-tab-1-1 docutils container">
<div class="docutils container">
<strong>API Version 1 (veraltet)</strong></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-1-0 active docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>PUT http://&lt;host&gt;/api/v2/pipelines/0/nodes/&lt;rc_qr_code_detect<span class="p">|</span>rc_april_tag_detect&gt;/services/detect
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-1-1 docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>PUT http://&lt;host&gt;/api/v1/nodes/&lt;rc_qr_code_detect<span class="p">|</span>rc_april_tag_detect&gt;/services/detect
</pre></div>
</div>
</div>
</div>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-2-0 docutils container">
<div class="docutils container">
<strong>Request</strong></div>
</div>
<div class="item sphinx-data-tab-2-1 docutils container">
<div class="docutils container">
<strong>Response</strong></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-2-0 active docutils container">
<p>Optionale Serviceargumente:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">tags</span></code> bezeichnet die Liste der Tag-IDs, welche erkannt werden sollen. Bei QR-Codes ist die ID gleich den enthaltenen Daten. Bei AprilTags ist es <cite>„&lt;Familie&gt;_&lt;ID&gt;“</cite>, also beispielsweise <cite>„36h11_5“</cite> für Familie 36h11 und ID 5. Natürlich kann das AprilTag-Modul nur zur Erkennung von AprilTags und das QR-Code-Modul nur zur Erkennung von QR-Codes genutzt werden.</p>
<p>Die <code class="docutils literal notranslate"><span class="pre">tags</span></code>-Liste kann auch leer gelassen werden. In diesem Fall werden alle erkannten Tags zurückgegeben. Dieses Feature sollte nur während der Entwicklung einer Applikation oder zur Fehlerbehebung benutzt werden. Wann immer möglich sollten die konkreten Tag-IDs aufgelistet werden, zum einen zur Vermeidung von Fehldetektionen, zum anderen auch um die Tagerkennung zu beschleunigen, da nicht benötigte Tags aussortiert werden können.</p>
<p>Bei AprilTags kann der Benutzer nicht nur einzelne Tags, sondern auch eine gesamte Familie spezifizieren, indem die ID auf „&lt;family&gt;“ gesetzt wird, bspw. „36h11“. Dadurch werden alle Tags dieser Familie erkannt. Es ist auch möglich, mehrere Familien oder eine Kombination aus Familien und einzelnen Tags anzugeben. Zum Beispiel kann <code class="docutils literal notranslate"><span class="pre">detect</span></code> mit „36h11“, „25h9_3“ und „36h10“ zur gleichen Zeit aufgerufen werden.</p>
<p>Zusätzlich zur ID kann auch die ungefähre Größe (<span class="math notranslate nohighlight">\(\pm 10\%\)</span>) eines Tags angegeben werden. Wie in <a class="reference internal" href="#sect-tag-pose-estimation"><span class="std std-ref">Posenschätzung</span></a> erklärt, verhilft dies Mehrdeutigkeiten aufzulösen, die in bestimmten Situationen auftreten können.</p>
<p>Das Feld <code class="docutils literal notranslate"><span class="pre">pose_frame</span></code> gibt an, ob die Posen im Kamera- oder im externen Koordinatensystem zurückgegeben werden (siehe <a class="reference internal" href="#sect-tag-hand-eye-calib"><span class="std std-ref">Hand-Auge-Kalibrierung</span></a>. Der Standardwert ist <code class="docutils literal notranslate"><span class="pre">camera</span></code>.</p>
<p>Die Definition der <cite>Request</cite>-Argumente mit jeweiligen Datentypen ist:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;args&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;pose_frame&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
    <span class="nt">&quot;robot_pose&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;orientation&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;w&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span><span class="p">,</span>
        <span class="nt">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span><span class="p">,</span>
        <span class="nt">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span><span class="p">,</span>
        <span class="nt">&quot;z&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;position&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span><span class="p">,</span>
        <span class="nt">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span><span class="p">,</span>
        <span class="nt">&quot;z&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-2-1 docutils container">
<p><code class="docutils literal notranslate"><span class="pre">timestamp</span></code> wird auf den Zeitstempel des Bildpaares gesetzt, auf dem die Tagerkennung gearbeitet hat.</p>
<p><code class="docutils literal notranslate"><span class="pre">tags</span></code> enthält alle erkannten Tags.</p>
<p><code class="docutils literal notranslate"><span class="pre">id</span></code> ist die ID des Tags, vergleichbar zur <code class="docutils literal notranslate"><span class="pre">id</span></code> in der Anfrage.</p>
<p><code class="docutils literal notranslate"><span class="pre">instance_id</span></code> ist der zufällige, eindeutige Identifikator eines Tags, welcher von der Tag-Wiedererkennung zugewiesen wird.</p>
<p><code class="docutils literal notranslate"><span class="pre">pose</span></code> enthält <code class="docutils literal notranslate"><span class="pre">position</span></code> und <code class="docutils literal notranslate"><span class="pre">orientation</span></code>. Die Orientierung ist im Quaternionen-Format angegeben.</p>
<p><code class="docutils literal notranslate"><span class="pre">pose_frame</span></code> bezeichnet das Koordinatensystem, auf welches obige Pose bezogen ist, und hat den Wert <code class="docutils literal notranslate"><span class="pre">camera</span></code> oder <code class="docutils literal notranslate"><span class="pre">external</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">size</span></code> wird auf die geschätzte Taggröße gesetzt. Bei AprilTags ist hier der weiße Rahmen nicht enthalten.</p>
<p><code class="docutils literal notranslate"><span class="pre">return_code</span></code> enthält mögliche Warnungen oder Fehlercodes und Nachrichten.</p>
<p>Die Definition der <cite>Response</cite> mit jeweiligen Datentypen ist:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;detect&quot;</span><span class="p">,</span>
  <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;return_code&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;int16&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="nt">&quot;instance_id&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="nt">&quot;pose&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;orientation&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;w&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span><span class="p">,</span>
            <span class="nt">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span><span class="p">,</span>
            <span class="nt">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span><span class="p">,</span>
            <span class="nt">&quot;z&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span>
          <span class="p">},</span>
          <span class="nt">&quot;position&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;x&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span><span class="p">,</span>
            <span class="nt">&quot;y&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span><span class="p">,</span>
            <span class="nt">&quot;z&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span>
          <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;pose_frame&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
        <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="s2">&quot;float64&quot;</span><span class="p">,</span>
        <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="nt">&quot;nsec&quot;</span><span class="p">:</span> <span class="s2">&quot;int32&quot;</span><span class="p">,</span>
          <span class="nt">&quot;sec&quot;</span><span class="p">:</span> <span class="s2">&quot;int32&quot;</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">&quot;timestamp&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;nsec&quot;</span><span class="p">:</span> <span class="s2">&quot;int32&quot;</span><span class="p">,</span>
      <span class="nt">&quot;sec&quot;</span><span class="p">:</span> <span class="s2">&quot;int32&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="start">
<span id="expl-tag-srv-start"></span><h3><code class="docutils literal notranslate"><span class="pre">start</span></code><a class="headerlink" href="#start" title="Link zu dieser Überschrift">¶</a></h3>
<blockquote>
<div><p>startet das Modul durch einen Übergang von <code class="docutils literal notranslate"><span class="pre">IDLE</span></code> nach <code class="docutils literal notranslate"><span class="pre">RUNNING</span></code>.</p>
<p class="toggle-header"><strong>Details</strong></p>
<div class="toggle-content docutils container">
<p>Wenn das Modul läuft, empfängt es die Bilder der Stereokamera und ist bereit, Tags zu erkennen. Um Rechenressourcen zu sparen, sollte das Modul nur laufen, wenn dies nötig ist.</p>
<p>Dieser Service kann wie folgt aufgerufen werden.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-3-0 docutils container">
<div class="docutils container">
<strong>API Version 2</strong></div>
</div>
<div class="item sphinx-data-tab-3-1 docutils container">
<div class="docutils container">
<strong>API Version 1 (veraltet)</strong></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-3-0 active docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>PUT http://&lt;host&gt;/api/v2/pipelines/0/nodes/&lt;rc_qr_code_detect<span class="p">|</span>rc_april_tag_detect&gt;/services/start
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-3-1 docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>PUT http://&lt;host&gt;/api/v1/nodes/&lt;rc_qr_code_detect<span class="p">|</span>rc_april_tag_detect&gt;/services/start
</pre></div>
</div>
</div>
</div>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-4-0 docutils container">
<div class="docutils container">
<strong>Request</strong></div>
</div>
<div class="item sphinx-data-tab-4-1 docutils container">
<div class="docutils container">
<strong>Response</strong></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-4-0 active docutils container">
Dieser Service hat keine Argumente.</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-4-1 docutils container">
<p>Die Definition der <cite>Response</cite> mit jeweiligen Datentypen ist:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;start&quot;</span><span class="p">,</span>
  <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;accepted&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
    <span class="nt">&quot;current_state&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div></blockquote>
</div>
<div class="section" id="stop">
<span id="expl-tag-srv-stop"></span><h3><code class="docutils literal notranslate"><span class="pre">stop</span></code><a class="headerlink" href="#stop" title="Link zu dieser Überschrift">¶</a></h3>
<blockquote>
<div><p>stoppt das Modul durch einen Übergang zu <code class="docutils literal notranslate"><span class="pre">IDLE</span></code>.</p>
<blockquote>
<div><p class="toggle-header"><strong>Details</strong></p>
<div class="toggle-content docutils container">
<p>Dieser Übergang kann auf dem Zustand <code class="docutils literal notranslate"><span class="pre">RUNNING</span></code> und <code class="docutils literal notranslate"><span class="pre">FATAL</span></code> durchgeführt werden. Alle Tag-Wiedererkennungs-Informationen werden beim Stoppen gelöscht.</p>
<p>Dieser Service kann wie folgt aufgerufen werden.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-5-0 docutils container">
<div class="docutils container">
<strong>API Version 2</strong></div>
</div>
<div class="item sphinx-data-tab-5-1 docutils container">
<div class="docutils container">
<strong>API Version 1 (veraltet)</strong></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-5-0 active docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>PUT http://&lt;host&gt;/api/v2/pipelines/0/nodes/&lt;rc_qr_code_detect<span class="p">|</span>rc_april_tag_detect&gt;/services/stop
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-5-1 docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>PUT http://&lt;host&gt;/api/v1/nodes/&lt;rc_qr_code_detect<span class="p">|</span>rc_april_tag_detect&gt;/services/stop
</pre></div>
</div>
</div>
</div>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-6-0 docutils container">
<div class="docutils container">
<strong>Request</strong></div>
</div>
<div class="item sphinx-data-tab-6-1 docutils container">
<div class="docutils container">
<strong>Response</strong></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-6-0 active docutils container">
Dieser Service hat keine Argumente.</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-6-1 docutils container">
<p>Die Definition der <cite>Response</cite> mit jeweiligen Datentypen ist:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;stop&quot;</span><span class="p">,</span>
  <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;accepted&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
    <span class="nt">&quot;current_state&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="restart">
<span id="expl-tag-srv-restart"></span><h3><code class="docutils literal notranslate"><span class="pre">restart</span></code><a class="headerlink" href="#restart" title="Link zu dieser Überschrift">¶</a></h3>
<blockquote>
<div><p>startet das Modul neu.</p>
<blockquote>
<div><p class="toggle-header"><strong>Details</strong></p>
<div class="toggle-content docutils container">
<p>Wenn im Zustand <code class="docutils literal notranslate"><span class="pre">RUNNING</span></code> oder <code class="docutils literal notranslate"><span class="pre">FATAL</span></code>, wird das Modul erst gestoppt und dann wieder gestartet. In <code class="docutils literal notranslate"><span class="pre">IDLE</span></code> wird das Modul nur gestartet.</p>
<p>Dieser Service kann wie folgt aufgerufen werden.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-7-0 docutils container">
<div class="docutils container">
<strong>API Version 2</strong></div>
</div>
<div class="item sphinx-data-tab-7-1 docutils container">
<div class="docutils container">
<strong>API Version 1 (veraltet)</strong></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-7-0 active docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>PUT http://&lt;host&gt;/api/v2/pipelines/0/nodes/&lt;rc_qr_code_detect<span class="p">|</span>rc_april_tag_detect&gt;/services/restart
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-7-1 docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>PUT http://&lt;host&gt;/api/v1/nodes/&lt;rc_qr_code_detect<span class="p">|</span>rc_april_tag_detect&gt;/services/restart
</pre></div>
</div>
</div>
</div>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-8-0 docutils container">
<div class="docutils container">
<strong>Request</strong></div>
</div>
<div class="item sphinx-data-tab-8-1 docutils container">
<div class="docutils container">
<strong>Response</strong></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-8-0 active docutils container">
Dieser Service hat keine Argumente.</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-8-1 docutils container">
<p>Die Definition der <cite>Response</cite> mit jeweiligen Datentypen ist:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;restart&quot;</span><span class="p">,</span>
  <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;accepted&quot;</span><span class="p">:</span> <span class="s2">&quot;bool&quot;</span><span class="p">,</span>
    <span class="nt">&quot;current_state&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="reset-defaults">
<span id="expl-tag-srv-reset-params"></span><h3><code class="docutils literal notranslate"><span class="pre">reset_defaults</span></code><a class="headerlink" href="#reset-defaults" title="Link zu dieser Überschrift">¶</a></h3>
<blockquote>
<div><p>stellt die Werkseinstellungen der Parameter dieses Moduls wieder her und wendet sie an („factory reset“).</p>
<p class="toggle-header"><strong>Details</strong></p>
<div class="toggle-content docutils container">
<p>Dieser Service kann wie folgt aufgerufen werden.</p>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-9-0 docutils container">
<div class="docutils container">
<strong>API Version 2</strong></div>
</div>
<div class="item sphinx-data-tab-9-1 docutils container">
<div class="docutils container">
<strong>API Version 1 (veraltet)</strong></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-9-0 active docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>PUT http://&lt;host&gt;/api/v2/pipelines/0/nodes/&lt;rc_qr_code_detect<span class="p">|</span>rc_april_tag_detect&gt;/services/reset_defaults
</pre></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-9-1 docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>PUT http://&lt;host&gt;/api/v1/nodes/&lt;rc_qr_code_detect<span class="p">|</span>rc_april_tag_detect&gt;/services/reset_defaults
</pre></div>
</div>
</div>
</div>
<div class="sphinx-tabs docutils container">
<div class="ui top attached tabular menu sphinx-menu docutils container">
<div class="active item sphinx-data-tab-10-0 docutils container">
<div class="docutils container">
<strong>Request</strong></div>
</div>
<div class="item sphinx-data-tab-10-1 docutils container">
<div class="docutils container">
<strong>Response</strong></div>
</div>
</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-10-0 active docutils container">
Dieser Service hat keine Argumente.</div>
<div class="ui bottom attached sphinx-tab tab segment sphinx-data-tab-10-1 docutils container">
<p>Die Definition der <cite>Response</cite> mit jeweiligen Datentypen ist:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;reset_defaults&quot;</span><span class="p">,</span>
  <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;return_code&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;string&quot;</span><span class="p">,</span>
      <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;int16&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="return-codes">
<span id="sect-tag-return-codes"></span><h2>Rückgabecodes<a class="headerlink" href="#return-codes" title="Link zu dieser Überschrift">¶</a></h2>
<p id="index-6">Zusätzlich zur eigentlichen Serviceantwort gibt jeder Service einen sogenannten <code class="docutils literal notranslate"><span class="pre">return_code</span></code> bestehend aus einem Integer-Wert und einer optionalen Textnachricht zurück. Erfolgreiche Service-Anfragen werden mit einem Wert von <code class="docutils literal notranslate"><span class="pre">0</span></code> quittiert. Positive Werte bedeuten, dass die Service-Anfrage zwar erfolgreich bearbeitet wurde, aber zusätzliche Informationen zur Verfügung stehen. Negative Werte bedeuten, dass Fehler aufgetreten sind. Für den Fall, dass mehrere Rückgabewerte zutreffend wären, wird der kleinste zurückgegeben, und die entsprechenden Textnachrichten werden in <code class="docutils literal notranslate"><span class="pre">return_code.message</span></code> akkumuliert.</p>
<p>Die folgende Tabelle listet die möglichen Rückgabe-Codes auf:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="7%" />
<col width="93%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Code</th>
<th class="head">Beschreibung</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>Erfolg</td>
</tr>
<tr class="row-odd"><td>-1</td>
<td>Ein ungültiges Argument wurde übergeben.</td>
</tr>
<tr class="row-even"><td>-4</td>
<td>Die maximale Wartezeit auf ein Stereo-Bildpaar wurde überschritten.</td>
</tr>
<tr class="row-odd"><td>-9</td>
<td>Die Lizenz ist ungültig.</td>
</tr>
<tr class="row-even"><td>-11</td>
<td>Sensor nicht verbunden, nicht unterstützt oder nicht bereit</td>
</tr>
<tr class="row-odd"><td>-101</td>
<td>Ein interner Fehler trat während der Tagerkennung auf.</td>
</tr>
<tr class="row-even"><td>-102</td>
<td>Ein Rückwärtssprung der Systemzeit trat auf</td>
</tr>
<tr class="row-odd"><td>-103</td>
<td>Ein interner Fehler trat während der Posenschätzung auf.</td>
</tr>
<tr class="row-even"><td>-200</td>
<td>Ein schwerwiegender interner Fehler trat auf.</td>
</tr>
<tr class="row-odd"><td>200</td>
<td>Mehrere Warnungen traten auf. Siehe die Auflistung in <code class="docutils literal notranslate"><span class="pre">message</span></code>.</td>
</tr>
<tr class="row-even"><td>201</td>
<td>Das Modul war nicht im Zustand <code class="docutils literal notranslate"><span class="pre">RUNNING</span></code>.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="itempick.html" class="btn btn-neutral float-right" title="ItemPick und BoxPick" accesskey="n" rel="next">Weiter <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="loadcarrier.html" class="btn btn-neutral" title="LoadCarrier" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Zurück</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2023, Roboception GmbH.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-cog"> Optionen</span>
      de
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Sprachen</dt>
        
          
          <dd><a href="../en/tagdetect.html">en</a></dd>
          
        
          
          <dd><a href="../de/tagdetect.html">de</a></dd>
          
        
      </dl>
      
        <dl>
          <dt>Versionen</dt>
          
            <dd><a href="../../v23.10/index.html">v23.10</a></dd>
          
            <dd><a href="../../v24.01/index.html">v24.01</a></dd>
          
        </dl>
      
      
        <dl>
          <dt>Downloads</dt>
          
            <dd><a href="../pdf/rc_visard_ng_manual_en.pdf">PDF (en)</a></dd>
          
            <dd><a href="../pdf/rc_visard_ng_manual_de.pdf">PDF (de)</a></dd>
          
        </dl>
      

    </div>
  </div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'24.01.1-2-g3fc53ce3',
            LANGUAGE:'de',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>
      <script type="text/javascript" src="_static/sphinx_tabs/semantic-ui-2.4.1/tab.min.js"></script>
      <script type="text/javascript" src="_static/sphinx_tabs/tabs.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>
      <script type="text/javascript" src="_static/contentui.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>